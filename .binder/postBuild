#!/bin/bash

# Binder post-build script for cross-modal head nod analysis
# This script runs after the environment is built

echo "ðŸ”§ Setting up Cross-Modal Head Nod Analysis environment..."

# Make R scripts executable
chmod +x *.R
chmod +x scripts/*.R

# Install R packages
echo "ðŸ“¦ Installing R packages..."
Rscript -e "options(repos = c(CRAN = 'https://cran.rstudio.com/')); source('install.R.binder')"

# Set up data directories (if they don't exist)
mkdir -p figures
mkdir -p results  
mkdir -p figures/gardner_altman
mkdir -p results/tables

# Test repository functionality
echo "ðŸ§ª Testing repository..."
Rscript -e "options(repos = c(CRAN = 'https://cran.rstudio.com/')); source('test_repository.R')"

echo "âœ… Binder environment setup complete!"
echo "ðŸš€ Ready to run Cross-Modal Head Nod Analysis!"

# Enable RStudio by default
echo "ðŸ“Š Starting with RStudio interface..."
